container:
  image: "replay:latest"
#  command: cd experiments && python compare_recs.py --ds MovieLens.100k --part 1 --mem 0.8 --algos sdac --gpu 1 --core 5 --label sdac
  command: zsh -c 'source /root/.zshrc; mamba install ruamel.yaml -y; python ./rl_experiments/run.py -c configs/example.yaml --log=False --epochs=1'
#  command: zsh -c 'source /root/.zshrc; python ./rl_experiments/run.py -c configs/example.yaml --log=False --epochs=1'
#  command: zsh -c 'source /root/.zshrc;'
#  command: zsh -c 'python ./rl_experiments/tst.py'
#  command: bash

  tty: True
  environment:
    - "DISABLE_AUTO_UPDATE=true"
    - "OMP_NUM_THREADS=1"
    - "MKL_NUM_THREADS=1"
#    - "NVIDIA_VISIBLE_DEVICES=1"

code:
  folder: "."
  # forward_environment_keys: ["WANDB_API_KEY"]
  ignore: [".git"]
  connect_to_logs: True

host_config:
  # runtime: nvidia
  shm_size: '24096m'
  mem_limit: '10g'
